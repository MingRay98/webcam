(this.webpackJsonpwebcam=this.webpackJsonpwebcam||[]).push([[0],[,,,,,,,function(e,t,a){},,function(e,t,a){"use strict";(function(e){var n=a(6),i=a.n(n),r=a(8),s=a(1),o=a(2),l=a(4),c=a(3),d=a(5),u=a(0),h=a.n(u),m=a(16),v=a(17),p=(a(7),null),g=null,b=0,f=0,y=0,w=0,C=1,E=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).moveSlide=function(e){C=parseFloat(e.target.value),b=800*C,f=600*C,y=n.videoCanvas.width/2-b/2,w=n.videoCanvas.height/2-f/2},n.drawVideoToCanvas=function(){var e=n.videoCanvas.getContext("2d");e.clearRect(0,0,p,g),e.save(),e.translate(y,w),e.scale(C,C),e.drawImage(n.video,0,0),e.restore(),requestAnimationFrame(n.drawVideoToCanvas)},n.handleTurnStream=function(e){console.log(e.target.innerHTML),"turn Off"===e.target.innerHTML?(n.stopStream(),e.target.innerHTML="turn On"):(n.getVideoStream(),n.drawVideoToCanvas(),e.target.innerHTML="turn Off")},n.stopStream=function(){n.video.srcObject.getTracks().forEach((function(e){e.stop()})),n.video.srcObject=null},n.takePhoto=function(){n.photoCanvas.width=p,n.photoCanvas.height=g,n.drawPhoto(),document.getElementById("savePhoto").style={display:""}},n.drawPhoto=function(){var t=n.photoCanvas.getContext("2d"),a=new Image;a.onload=function(){t.filter=n.props.filterStyle.blur+" "+n.props.filterStyle.grayscale+" "+n.props.filterStyle.brightness+" "+n.props.filterStyle.contrast,"environment"===e.constraints.video.facingMode?t.scale(1,1):t.scale(-1,1),t.translate(-t.canvas.width,0),t.drawImage(a,0,0)},a.src=n.videoCanvas.toDataURL()},n.downloadCanvasIamge=function(e){var t=document.getElementById("downloadImg");t.href=n.photoCanvas.toDataURL(),t.download="photo.png",t.click()},n.state={},n}return Object(d.a)(a,t),Object(o.a)(a,[{key:"componentDidMount",value:function(){window.isMobile?(p=window.innerWidth,g=500,console.log("Mobile Mode")):(p=800,g=600),b=800,f=600,this.videoCanvas=document.getElementById("videoCanvas"),this.video=document.getElementById("video"),this.videoCanvas.width=p,this.videoCanvas.height=g,y=this.videoCanvas.width/2-b/2,w=this.videoCanvas.height/2-f/2,this.getVideoStream(),this.drawVideoToCanvas(),this.photoCanvas=document.getElementById("photoCanvas"),this.slider=document.getElementById("slider")}},{key:"getVideoStream",value:function(){var t=Object(r.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia(e.constraints);case 3:a=t.sent,this.video.srcObject=a,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:this.video.srcObject.getVideoTracks().forEach((function(e){console.log(e.getSettings().deviceId),console.log(e.getSettings().aspectRatio),console.log(e.getSettings().width),console.log(e.getSettings().height)}));case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e={filter:this.props.filterStyle.blur+" "+this.props.filterStyle.grayscale+" "+this.props.filterStyle.brightness+" "+this.props.filterStyle.contrast};return h.a.createElement("div",{align:"center"},h.a.createElement("video",{autoPlay:!0,id:"video",style:{display:"none"}}),h.a.createElement("canvas",{id:"videoCanvas",style:e,className:"Stream"}),h.a.createElement("br",null),h.a.createElement(v.a,{moveSlide:this.moveSlide,handleTurnStream:this.handleTurnStream,takePhoto:this.takePhoto,downloadCanvasIamge:this.downloadCanvasIamge,width:this.canvasWidth}),h.a.createElement(m.a,null))}}]),a}(u.Component);t.a=E}).call(this,a(11))},,,,function(e,t,a){"use strict";(function(e){var n=a(1),i=a(2),r=a(4),s=a(3),o=a(5),l=a(0),c=a.n(l),d=a(14),u=a(15),h=a(9),m=(a(7),"user"),v=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);window.isMobile=v;var p=0,g=0,b=1,f=1,y=function(t){function a(t){var i;return Object(n.a)(this,a),(i=Object(r.a)(this,Object(s.a)(a).call(this,t))).handleCameraChange=function(){v?"user"===m?(m="environment",e.constraints={constraints:{audio:!1,video:{facingMode:"environment",width:{ideal:800},height:{ideal:600}}}},i.buttonTurn.click(),i.buttonTurn.click(),document.getElementById("videoCanvas").className=""):(m="user",e.constraints={constraints:{audio:!1,video:{facingMode:"user",width:{ideal:800},height:{ideal:600}}}},i.buttonTurn.click(),i.buttonTurn.click(),document.getElementById("videoCanvas").className="Stream"):console.log("Isn't molibe ")},i.addFliter=function(e){switch(e.target.value){case"blur":p+=1,i.setState({blur:"blur("+p+"px)"});break;case"grayscale":g+=10,i.setState({grayscale:"grayscale("+g+"%)"});break;case"contrast":b+=1,i.setState({contrast:"contrast("+b+")"});break;case"brightness":if(f>=2)return;f+=.1,i.setState({brightness:"brightness("+f.toFixed(1)+")"})}},i.minusFliter=function(e){switch(e.target.value){case"blur":if(p<=0)return;p-=1,i.setState({blur:"blur("+p+"px)"});break;case"grayscale":if(g<=0)return;g-=10,i.setState({grayscale:"grayscale("+g+"%)"});break;case"contrast":if(b<=1)return;b-=1,i.setState({contrast:"contrast("+b+")"});break;case"brightness":if(f<=.11)return;f-=.1,i.setState({brightness:"brightness("+f.toFixed(1)+")"})}},i.moblieORdestop=function(){var e={blur:i.state.blur,grayscale:i.state.grayscale,contrast:i.state.contrast,brightness:i.state.brightness};return v?c.a.createElement(h.a,{facing:m,constraints:i.constraints,filterStyle:e}):c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"60vw"}},c.a.createElement(h.a,{facing:m,filterStyle:e})),c.a.createElement(u.a,{addFliter:i.addFliter,minusFliter:i.minusFliter,filterStyle:e}))},i.state={blur:"blur(0px)",grayscale:"grayscale(0%)",contrast:"contrast(1)",brightness:"brightness(1)"},e.constraints={video:{facingMode:"user",width:{ideal:800},height:{ideal:600}},audio:!1},i}return Object(o.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.buttonTurn=document.getElementById("turn")}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(d.a,{handleCameraChange:this.handleCameraChange,add:this.addFliter,minus:this.minusFliter}),this.moblieORdestop())}}]),a}(l.Component);t.a=y}).call(this,a(11))},function(e,t,a){"use strict";var n=a(1),i=a(2),r=a(4),s=a(3),o=a(5),l=a(0),c=a.n(l),d=(a(7),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleOnclick=function(e){var t=document.getElementById("youStyle"),n={target:{value:t.options[t.options.selectedIndex].value}};"+"===e.target.innerHTML?a.props.add(n):a.props.minus(n)},a.init=function(){return window.isMobile?c.a.createElement("div",{className:"header"},c.a.createElement("div",{style:{width:"40%"}},c.a.createElement("button",{className:"headerBtn",onClick:a.handleOnclick,style:{width:"1rem",padding:"0px"}},"+"),c.a.createElement("select",{id:"youStyle",style:{width:"50%"}},c.a.createElement("option",{value:"blur"},"Blur"),c.a.createElement("option",{value:"grayscale"},"Grayscale"),c.a.createElement("option",{value:"contrast"},"Contrast"),c.a.createElement("option",{value:"brightness"},"Brightness")),c.a.createElement("button",{className:"headerBtn",onClick:a.handleOnclick,style:{width:"1rem",padding:"0px"}},"-")),"Webcam",c.a.createElement("button",{className:"headerBtn",onClick:a.props.handleCameraChange}," turn")):c.a.createElement("div",{className:"header",style:{justifyContent:"center"}},"Webcam")},a.state={},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,this.init())}}]),t}(l.Component));t.a=d},function(e,t,a){"use strict";var n=a(1),i=a(2),r=a(4),s=a(3),o=a(5),l=a(0),c=a.n(l),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{align:"center"},c.a.createElement("div",{className:"desktopList",style:{width:"40vw",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}},c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},c.a.createElement("button",{onClick:this.props.addFliter,value:"blur"},"++"),this.props.filterStyle.blur,c.a.createElement("button",{onClick:this.props.minusFliter,value:"blur"},"--")),c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},c.a.createElement("button",{onClick:this.props.addFliter,value:"grayscale"},"++"),this.props.filterStyle.grayscale,c.a.createElement("button",{onClick:this.props.minusFliter,value:"grayscale"},"--")),c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},c.a.createElement("button",{onClick:this.props.addFliter,value:"contrast"},"++"),this.props.filterStyle.contrast,c.a.createElement("button",{onClick:this.props.minusFliter,value:"contrast"},"--")),c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},c.a.createElement("button",{onClick:this.props.addFliter,value:"brightness"},"++"),this.props.filterStyle.brightness,c.a.createElement("button",{onClick:this.props.minusFliter,value:"brightness"},"--"))))}}]),t}(l.Component);t.a=d},function(e,t,a){"use strict";var n=a(1),i=a(2),r=a(4),s=a(3),o=a(5),l=a(0),c=a.n(l),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("canvas",{id:"photoCanvas"}))}}]),t}(l.Component);t.a=d},function(e,t,a){"use strict";var n=a(1),i=a(2),r=a(4),s=a(3),o=a(5),l=a(0),c=a.n(l),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("input",{type:"range",min:"1",max:"2.5",step:"0.1",defaultValue:"1",id:"slider",className:"slider",onChange:this.props.moveSlide,style:{width:this.props.width,height:"1rem"}}),c.a.createElement("br",null),c.a.createElement("button",{id:"turn",onClick:this.props.handleTurnStream},"turn Off"),c.a.createElement("button",{onClick:this.props.takePhoto},"take photo"),c.a.createElement("button",{id:"savePhoto",style:{display:"none"},onClick:this.props.downloadCanvasIamge},"save photo"),c.a.createElement("a",{id:"downloadImg"}))}}]),t}(l.Component);t.a=d},function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(12),s=a.n(r),o=a(13),l=a(6),c=a.n(l),d=a(8),u=a(1),h=a(2),m=a(4),v=a(3),p=a(5),g=(a(7),"1080"),b="720",f="",y="",w="1";n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(o.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[18,1,2]]]);
//# sourceMappingURL=main.a8b36115.chunk.js.map