(this.webpackJsonpwebcam=this.webpackJsonpwebcam||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),s=a.n(r),o=a(1),l=a(2),c=a(4),d=a(3),u=a(5),h=(a(7),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleOnclick=function(e){var t=document.getElementById("youStyle"),n={target:{value:t.options[t.options.selectedIndex].value}};"+"===e.target.innerHTML?a.props.add(n):a.props.minus(n)},a.init=function(){return window.isMobile?i.a.createElement("div",{className:"header"},i.a.createElement("div",{style:{width:"40%"}},i.a.createElement("button",{className:"headerBtn",onClick:a.handleOnclick,style:{width:"1rem",padding:"0px"}},"+"),i.a.createElement("select",{id:"youStyle",style:{width:"50%"}},i.a.createElement("option",{value:"blur"},"Blur"),i.a.createElement("option",{value:"grayscale"},"Grayscale"),i.a.createElement("option",{value:"contrast"},"Contrast"),i.a.createElement("option",{value:"brightness"},"Brightness")),i.a.createElement("button",{className:"headerBtn",onClick:a.handleOnclick,style:{width:"1rem",padding:"0px"}},"-")),"Webcam",i.a.createElement("button",{className:"headerBtn",onClick:a.props.handleCameraChange}," turn")):i.a.createElement("div",{className:"header",style:{justifyContent:"center"}},"Webcam")},a.state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.init())}}]),t}(n.Component)),m=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{align:"center"},i.a.createElement("div",{className:"desktopList",style:{width:"40vw",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}},i.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i.a.createElement("button",{onClick:this.props.addFliter,value:"blur"},"++"),this.props.filterStyle.blur,i.a.createElement("button",{onClick:this.props.minusFliter,value:"blur"},"--")),i.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i.a.createElement("button",{onClick:this.props.addFliter,value:"grayscale"},"++"),this.props.filterStyle.grayscale,i.a.createElement("button",{onClick:this.props.minusFliter,value:"grayscale"},"--")),i.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i.a.createElement("button",{onClick:this.props.addFliter,value:"contrast"},"++"),this.props.filterStyle.contrast,i.a.createElement("button",{onClick:this.props.minusFliter,value:"contrast"},"--")),i.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i.a.createElement("button",{onClick:this.props.addFliter,value:"brightness"},"++"),this.props.filterStyle.brightness,i.a.createElement("button",{onClick:this.props.minusFliter,value:"brightness"},"--"))))}}]),t}(n.Component),v=a(6),p=a.n(v),g=a(8),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("canvas",{id:"photoCanvas"}))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("input",{type:"range",min:"1",max:"2.5",step:"0.1",defaultValue:"1",id:"slider",className:"slider",onChange:this.props.moveSlide,style:{width:this.props.width,height:"1rem"}}),i.a.createElement("br",null),i.a.createElement("button",{id:"turn",onClick:this.props.handleTurnStream},"turn Off"),i.a.createElement("button",{onClick:this.props.takePhoto},"take photo"),i.a.createElement("button",{id:"savePhoto",style:{display:"none"},onClick:this.props.downloadCanvasIamge},"save photo"),i.a.createElement("a",{id:"downloadImg"}))}}]),t}(n.Component),y=null,w=null,C=0,E=0,k=0,S=0,O=1,j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).moveSlide=function(e){O=parseFloat(e.target.value),C=800*O,E=450*O,k=a.videoCanvas.width/2-C/2,S=a.videoCanvas.height/2-E/2},a.drawVideoToCanvas=function(){var e=a.videoCanvas.getContext("2d");e.clearRect(0,0,y,w),e.save(),e.translate(k,S),e.scale(O,O),e.drawImage(a.video,0,0),e.restore(),requestAnimationFrame(a.drawVideoToCanvas)},a.handleTurnStream=function(e){console.log(e.target.innerHTML),"turn Off"===e.target.innerHTML?(a.stopStream(),e.target.innerHTML="turn On"):(a.getVideoStream(),a.drawVideoToCanvas(),e.target.innerHTML="turn Off")},a.stopStream=function(){a.video.srcObject.getTracks().forEach((function(e){e.stop()})),a.video.srcObject=null},a.takePhoto=function(){a.photoCanvas.width=y,a.photoCanvas.height=w,a.setState({imgSrc:a.videoCanvas.toDataURL()}),a.drawPhoto(),document.getElementById("savePhoto").style={display:""}},a.drawPhoto=function(){var e=a.photoCanvas.getContext("2d"),t=new Image;t.onload=function(){e.filter=a.props.filterStyle.blur+" "+a.props.filterStyle.grayscale+" "+a.props.filterStyle.brightness+" "+a.props.filterStyle.contrast,"environment"===a.props.constraints.video.facingMode?e.scale(1,1):e.scale(-1,1),e.translate(-e.canvas.width,0),e.drawImage(t,0,0)},t.src=a.videoCanvas.toDataURL()},a.downloadCanvasIamge=function(e){var t=document.getElementById("downloadImg");t.href=a.photoCanvas.toDataURL(),t.download="photo.png",t.click()},a.state={imgSrc:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.isMobile?(y=window.innerWidth,w=450,console.log("Mobile Mode")):(y=800,w=450),C=800,E=450,this.videoCanvas=document.getElementById("videoCanvas"),this.video=document.getElementById("video"),this.videoCanvas.width=y,this.videoCanvas.height=w,k=this.videoCanvas.width/2-C/2,S=this.videoCanvas.height/2-E/2,this.getVideoStream(),this.drawVideoToCanvas(),this.photoCanvas=document.getElementById("photoCanvas"),this.slider=document.getElementById("slider")}},{key:"getVideoStream",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(this.props.constraints);case 3:t=e.sent,this.video.srcObject=t,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:this.video.srcObject.getVideoTracks().forEach((function(e){alert(e.getSettings().deviceId),alert(e.getSettings().aspectRatio),alert(e.getSettings().width),alert(e.getSettings().height)}));case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={filter:this.props.filterStyle.blur+" "+this.props.filterStyle.grayscale+" "+this.props.filterStyle.brightness+" "+this.props.filterStyle.contrast};return i.a.createElement("div",{align:"center"},i.a.createElement("video",{autoPlay:!0,id:"video",style:{display:"none"}}),i.a.createElement("canvas",{id:"videoCanvas",style:e,className:"Stream"}),i.a.createElement("br",null),i.a.createElement(f,{moveSlide:this.moveSlide,handleTurnStream:this.handleTurnStream,takePhoto:this.takePhoto,downloadCanvasIamge:this.downloadCanvasIamge,width:this.canvasWidth}),i.a.createElement(b,null))}}]),t}(n.Component),I="user",x=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);window.isMobile=x;var F=0,T=0,B=1,M=1,P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleCameraChange=function(){x?"user"===I?(I="environment",a.constraints({constraints:{audio:!1,video:{facingMode:"environment",width:{ideal:800},height:{ideal:450}}}},(function(){a.buttonTurn.click(),a.buttonTurn.click()})),document.getElementById("videoCanvas").className=""):(I="user",a.constraints({constraints:{audio:!1,video:{facingMode:"user",width:{ideal:800},height:{ideal:450}}}},(function(){a.buttonTurn.click(),a.buttonTurn.click()})),document.getElementById("videoCanvas").className="Stream"):console.log("Isn't molibe ")},a.addFliter=function(e){switch(e.target.value){case"blur":F+=1,a.setState({blur:"blur("+F+"px)"});break;case"grayscale":T+=10,a.setState({grayscale:"grayscale("+T+"%)"});break;case"contrast":B+=1,a.setState({contrast:"contrast("+B+")"});break;case"brightness":if(M>=2)return;M+=.1,a.setState({brightness:"brightness("+M.toFixed(1)+")"})}},a.minusFliter=function(e){switch(e.target.value){case"blur":if(F<=0)return;F-=1,a.setState({blur:"blur("+F+"px)"});break;case"grayscale":if(T<=0)return;T-=10,a.setState({grayscale:"grayscale("+T+"%)"});break;case"contrast":if(B<=1)return;B-=1,a.setState({contrast:"contrast("+B+")"});break;case"brightness":if(M<=.11)return;M-=.1,a.setState({brightness:"brightness("+M.toFixed(1)+")"})}},a.moblieORdestop=function(){var e={blur:a.state.blur,grayscale:a.state.grayscale,contrast:a.state.contrast,brightness:a.state.brightness};return x?i.a.createElement(j,{facing:I,constraints:a.constraints,filterStyle:e}):i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{width:"60vw"}},i.a.createElement(j,{facing:I,constraints:a.constraints,filterStyle:e})),i.a.createElement(m,{addFliter:a.addFliter,minusFliter:a.minusFliter,filterStyle:e}))},a.state={blur:"blur(0px)",grayscale:"grayscale(0%)",contrast:"contrast(1)",brightness:"brightness(1)"},a.constraints={video:{facingMode:"user",width:{ideal:800},height:{min:600}},audio:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.buttonTurn=document.getElementById("turn")}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(h,{handleCameraChange:this.handleCameraChange,add:this.addFliter,minus:this.minusFliter}),this.moblieORdestop())}}]),t}(n.Component),N="1080",L="720",V="",R="",W="1";n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.04cccfae.chunk.js.map